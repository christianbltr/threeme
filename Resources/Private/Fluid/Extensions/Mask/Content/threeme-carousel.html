<f:if condition="{data.tx_mask_carousel}">
    <f:if condition="{data.header}">
        <f:switch expression="{data.header_layout}">
            <f:case value="2"><h2>{data.header}</h2></f:case>
            <f:case value="3"><h3>{data.header}</h3></f:case>
            <f:case value="4"><h4>{data.header}</h4></f:case>
            <f:case value="0"><h2>{data.header}</h2></f:case>
        </f:switch>
    </f:if>

    <div id="carousel-uid{data.uid}" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <f:for each="{data.tx_mask_carousel}" as="dataItem" key="dataKey" iteration="dataIterator">
                <li data-target="#carousel-uid{data.uid}" data-slide-to="{dataKey}" {f:if(condition:'{dataIterator.isFirst}', then:'class="active"')}></li>
            </f:for>
        </ol>

        <div class="carousel-inner" role="listbox">
            <f:for each="{data.tx_mask_carousel}" as="dataItem" key="dataKey" iteration="dataIterator">
                <div class="item {f:if(condition:'{dataIterator.isFirst}', then:'active')}">
                    <f:for each="{dataItem.tx_mask_image}" as="file">
                        <f:image src="{file.uid}" alt="{file.alternative}" title="{file.title}" treatIdAsReference="1" maxWidth="1280" />
                    </f:for>
                    <div class="carousel-caption">
                        <h2>{dataItem.tx_mask_title}</h2>
                        <f:format.html parseFuncTSPath="lib.parseFunc_RTE">{dataItem.tx_mask_caption}</f:format.html>
                    </div>
                </div>
            </f:for>
        </div>

        <a class="left carousel-control" href="#carousel-uid{data.uid}" role="button" data-slide="prev">
            <span class="threeme-icon-prev fa fa-arrow-circle-left" aria-hidden="true"></span>
            <span class="sr-only">{f:translate(key: 'carousel.prev.label', extensionName: 'threeme')}</span>
        </a>
        <a class="right carousel-control" href="#carousel-uid{data.uid}" role="button" data-slide="next">
            <span class="threeme-icon-next fa fa-arrow-circle-right" aria-hidden="true"></span>
            <span class="sr-only">{f:translate(key: 'carousel.next.label', extensionName: 'threeme')}</span>
        </a>
    </div>
</f:if>
